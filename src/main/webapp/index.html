<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Deploy Test</title>
</head>
<body>

	<h2>빌드</h2>
	<pre>
		컴파일된 코드를 실행할 수 있는 상태로 만드는 작업
	</pre>

	<h3>이클립스에서 빌드하기</h3>
	<ol>
		<li>프로젝트 우클릭 > Export > WAR File 선택 </li>
		<li>Destination(빌드파일 경로) 설정 후 Finish</li>
	</ol>

	<h3>빌드 도구 사용 (ex Maven)</h3>
	<ol>
		<li>프로젝트 우클릭 > Run As.. > Maven build 선택</li>
		<li>Goals 항목에 clean package 입력 후 Run</li>
	</ol>
	<pre>
		Maven 메뉴가 보이지 않을 경우 
		프로젝트 우클릭 > Configure > Convert to Maven Project 선택
		( pom.xml 파일이 추가 됨 )
	</pre>
	<hr>
	<h2>배포</h2>
	<pre>
		빌드된 파일을 사용자가 접근할 수 있는 환경에 배치하는 것
		일반적인 배포 순서: 로컬 -> 개발 서버 (stage) -> 운영 서버 (release)
	</pre>
	<h3>톰캣 서버에 배포하기</h3>
	<ol>
		<li>
			<p>톰캣 서버 환경 구성을 위해 파일 다운로드</p>
			<a href="https://tomcat.apache.org/download-90.cgi">다운로드 링크</a>
		</li>
		<li>
			<p>톰캣 서버 실행하기</p>
			<p>~/apache-tomcat-x.x.xx/bin/startup.bat 파일 더블 클릭 (Windows)</p>
			<p>~/apache-tomcat-x.x.xx/bin/startup.sh 파일 실행 (Linux/Mac)</p>
		</li>
		<li>
			<p>브라우저로 톰캣 서버 실행 확인</p>
			<a href="http://localhost:8080">http://localhost:8080</a>
		</li>
		<li>
			<p>빌드된 파일을 webapp 폴더에 배치</p>
			<p>~/apache-tomcat-x.x.xx/webapp 폴더에 WAR 파일 배치</p>
		</li>
		<li>
			<p>배포 확인</p>
			ex) <a href="http://localhost:8080/deploy">http://localhost:8080/deploy</a>
		</li>
	</ol>
	<pre>
		톰캣 관련 설정 파일 위치: ( ~/apache-tomcat-x.x.xx/conf/ )
		- context.xml : 애플리케이션 별 개별적인 설정 파일
						( 주로 데이터베이스 연결 설정, 리소스 정의 등 )
		- server.xml : 톰캣 서버의 전반적인 설정 파일
					   ( 주로 포트, 커넥터 등 설정 )
		- web.xml : 톰캣 기본 설정 파일
		  			( 모든 애플리케이션에 적용되는 기본 설정 정의 )
					( 각 애플리케이션의 WEB-INF 경로에도 개별 설정 파일 존재 )
	</pre>
</body>
</html>